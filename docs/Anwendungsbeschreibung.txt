# Anwendungsbeschreibung: Avocado Sign Analyse & Publikations-Tool v3.0

## 1. Vision und Strategische Zielsetzung

### 1.1. Zweck der Anwendung
Das **Avocado Sign Analyse & Publikations-Tool** ist eine hochspezialisierte, wissenschaftliche Arbeitsumgebung zur Durchführung und Publikation von Forschungsergebnissen im Bereich der onkologischen Bildgebung. Es wurde gezielt entwickelt, um den gesamten wissenschaftlichen Prozess – von der initialen Datenexploration über die rigorose statistische Analyse bis hin zur Erstellung eines einreichungsfertigen Manuskripts – zu unterstützen.

Die Vision des Tools ist es, die Lücke zwischen Rohdaten und einer hochwertigen wissenschaftlichen Publikation zu schließen, indem es eine methodisch fundierte, reproduzierbare und hocheffiziente Analyseplattform bereitstellt. Der gesamte Aufbau, alle Funktionen und sämtliche Ausgaben sind konsequent an den anspruchsvollen Vorgaben und dem wissenschaftlichen Stil des führenden Fachjournals **Radiology** ausgerichtet.

### 1.2. Wissenschaftlicher Kontext
Das Tool dient der Validierung und dem Performance-Vergleich des neuartigen, kontrastmittelbasierten **"Avocado Signs"** mit etablierten T2-gewichteten MRT-Kriterien für das Lymphknoten-Staging beim Rektumkarzinom. Es ermöglicht eine objektive und datengestützte Untersuchung der Hypothese, dass das Avocado Sign eine überlegene diagnostische Güte aufweist.

### 1.3. Zielgruppe
* **Klinische Forscher und Radiologen:** Als primäre Nutzergruppe, die eine robuste Plattform für ihre Forschungsfragen und die anschließende Publikationserstellung benötigt.
* **Co-Autoren und Statistiker:** Zur transparenten Überprüfung der Methodik, der statistischen Tests und der Ergebnisintegrität.
* **Reviewer (indirekt):** Die Struktur und Ausgabe der Anwendung sind darauf ausgelegt, die für einen Peer-Review-Prozess bei *Radiology* erforderliche Klarheit und Nachvollziehbarkeit zu gewährleisten.

---

## 2. Inbetriebnahme und Systemumgebung

### 2.1. Systemanforderungen
* Ein moderner, leistungsfähiger Webbrowser (z.B. Google Chrome, Mozilla Firefox, Microsoft Edge).
* Eine stabile Internetverbindung für das initiale Laden der Anwendung und der externen Bibliotheken.

### 2.2. Lokaler Betrieb
Die Anwendung ist eine reine Client-Side-Anwendung und erfordert keine serverseitige Installation. Für einen reibungslosen und sicheren Betrieb wird dringend empfohlen, sie über einen lokalen Webserver zu starten, um browserseitige Sicherheitseinschränkungen zu umgehen.
1.  Navigieren Sie im Terminal in das Hauptverzeichnis der Anwendung.
2.  Starten Sie einen Server, z.B. mit Python 3: `python -m http.server`
3.  Öffnen Sie `http://localhost:8000` in Ihrem Browser.

---

## 3. Globale Architektur und Bedienkonzepte

### 3.1. Das Kollektiv: Die Basis der Analyse
Das Fundament jeder Analyse ist die präzise Definition der Studienkohorte. Die globale **Kollektiv-Auswahl** (`Gesamt`, `Direkt OP`, `nRCT`) im Header der Anwendung ist das zentrale Steuerungselement. Jede hier getroffene Auswahl wirkt sich unmittelbar auf **alle** Module, Berechnungen und Visualisierungen in der gesamten Anwendung aus. Dies gewährleistet eine konsistente Analysebasis, wie sie für eine wissenschaftliche Publikation unerlässlich ist.

### 3.2. Die Statusleiste: Analyse auf einen Blick
Die direkt unter dem Header platzierte Statusleiste bietet eine permanente, dynamische Zusammenfassung der wichtigsten Kennzahlen des gewählten Kollektivs (Patientenanzahl, Verteilung N-/AS-/T2-Status). Sie dient der schnellen Orientierung und Plausibilitätsprüfung während der Analyse.

### 3.3. Persistenter Arbeitszustand
Die Anwendung speichert kritische Benutzereinstellungen (gewähltes Kollektiv, T2-Kriteriendefinition, Layout-Zustände) automatisch im lokalen Speicher des Browsers. Dies ermöglicht ein nahtloses Fortsetzen der komplexen Analyse- und Schreibprozesse über mehrere Sitzungen hinweg.

---

## 4. Die Module: Von der Analyse zur Publikation

### 4.1. Daten-Tab: Transparenz und Detailtreue
Dieses Modul dient der fundamentalen Datensichtung und -prüfung, eine Grundvoraussetzung für jede valide Studie.
* **Zweck:** Detaillierte, transparente Darstellung der Patienten- und Lymphknotendaten.
* **Funktionen:**
    * **Patiententabelle:** Bietet eine sortierbare Übersicht aller Patienten des Kollektivs. Die Status-Spalten (`N | AS | T2`) erlauben einen direkten visuellen Vergleich der Klassifikationsergebnisse.
    * **Aufklappbare Detailansicht:** Enthüllt die Rohdaten der T2-morphologischen Eigenschaften jedes einzelnen Lymphknotens. Diese Funktion ist entscheidend, um die der Analyse zugrundeliegenden Datenpunkte direkt einsehen und validieren zu können.

### 4.2. Auswertung-Tab: Interaktive Hypothesenprüfung
Die interaktive Werkbank zur Definition, Anwendung und Optimierung von diagnostischen Kriterien.
* **Zweck:** Rigoroses Testen von Hypothesen durch interaktive Definition von T2-Kriterien und datengestützte Optimierung.
* **Module:**
    1.  **Dashboard:** Eine schnelle visuelle Übersicht der Kohorten-Charakteristika.
    2.  **T2-Kriterien Definition:** Ermöglicht die freie Kombination der fünf morphologischen T2-Merkmale inklusive der logischen Verknüpfung (UND/ODER). Dies erlaubt die exakte Nachbildung von Kriterien aus der Literatur sowie die explorative Untersuchung neuer Kriterien-Sets.
    3.  **T2 Metrik-Übersicht:** Ein "Live-Feedback"-Panel, das in Echtzeit die diagnostische Performance der aktuell im Definitions-Panel eingestellten Kriterien anzeigt. Dies ermöglicht eine agile und hypothesengestützte Analyse.
    4.  **Brute-Force Optimierung:** Ein wissenschaftliches "Power-Tool", das Tausende von Kriterienkombinationen testet, um objektiv das Set zu identifizieren, das eine gewählte Zielmetrik (z.B. Balanced Accuracy) maximiert. Dies liefert eine datengetriebene, objektive Grundlage für die im "Materials and Methods"-Teil einer Publikation zu beschreibende Methodik.
    5.  **Patienten-Auswertungstabelle:** Visualisiert die Konsequenzen der angewendeten Kriterien auf Patientenebene. Die Hervorhebung der zur Positiv-Klassifikation führenden Merkmale in der Detailansicht ist essenziell für die Fehleranalyse und das Verständnis von diskordanten Fällen, wie es in der "Discussion"-Sektion einer *Radiology*-Publikation erwartet wird.

### 4.3. Statistik-Tab: Rigorose Ergebnisvalidierung
Dieses Modul führt die statistischen Analysen durch, die für eine Einreichung bei einem Top-Journal wie *Radiology* erforderlich sind.
* **Zweck:** Umfassende Berechnung und Darstellung der statistischen Ergebnisse mit Fokus auf die für den Peer-Review-Prozess relevanten Kennzahlen.
* **Funktionen:**
    * **Detaillierte Performance-Analyse:** Darstellung aller relevanten Gütekriterien (Sensitivität, Spezifität, PPV, NPV, Accuracy, AUC) inklusive der für *Radiology* obligatorischen **95%-Konfidenzintervalle**.
    * **Statistische Vergleichstests:** Durchführung und Darstellung der Ergebnisse von **McNemar- und DeLong-Tests**, um die statistische Signifikanz von Unterschieden zwischen dem Avocado Sign und T2-Kriterien zu belegen.
    * **P-Wert-Darstellung:** Alle p-Werte werden exakt und gemäß den *Radiology*-Vorgaben (z.B. `p < .001`) dargestellt.
    * **Interaktive Tooltips:** Jede statistische Kennzahl wird durch einen Tooltip erläutert, der sowohl die formale Definition als auch eine wissenschaftlich korrekte Interpretation im Kontext der Analyse liefert. Dies unterstützt die korrekte Einordnung und Diskussion der Ergebnisse.

### 4.4. Präsentation-Tab: Visuelle Kommunikation der Ergebnisse
* **Zweck:** Erstellung von visuell ansprechenden, klaren und publikationsreifen Abbildungen und Tabellen für Präsentationen und das Manuskript.
* **Funktionen:**
    * **Fokussierte Ansichten:** Reduziert die Komplexität auf die Kernergebnisse ("AS Pur" oder "AS vs. T2").
    * **Vergleich mit Literatur:** Ermöglicht den direkten Performance-Vergleich des Avocado Signs mit publizierten, etablierten Kriteriensets.
    * **Export-Funktionen:** Jede Abbildung und Tabelle kann direkt als hochauflösende **PNG** oder skalierbare **SVG** heruntergeladen werden, um die Anforderungen von Verlagen für druckreife Grafiken zu erfüllen.

### 4.5. Publikation-Tab: Manuskript-Generierung für *Radiology*
Das Alleinstellungsmerkmal und Endziel der Anwendung.
* **Zweck:** Automatisierte Erstellung eines strukturierten, formatierten und datengestützten Manuskriptentwurfs, der speziell auf die Einreichungsrichtlinien von **Radiology** zugeschnitten ist.
* **Funktionen:**
    * ***Radiology*-konforme Struktur:** Der generierte Text folgt exakt der geforderten Gliederung: Abstract (mit den Unterpunkten Background, Purpose, Materials and Methods, Results, Conclusion), Introduction, Materials and Methods, Results, Discussion, References.
    * **Dynamische Inhalte:** Alle statistischen Ergebnisse (z.B. `AUC, 0.87; 95% CI: 0.79, 0.94; P < .001`) werden automatisch, korrekt formatiert und an der richtigen Stelle in den Fließtext eingefügt.
    * **Einhaltung der Regularien:** Ein integrierter Wortzähler für jeden Abschnitt überwacht die Einhaltung der strengen Längenbeschränkungen von *Radiology* (z.B. **max. 300 Wörter für den Abstract**).
    * **Sprachen:** Das Manuskript kann per Klick zwischen **Deutsch und Englisch** umgeschaltet werden.
    * **Direkter Export:** Jeder Abschnitt kann als Markdown-Datei exportiert werden, um die Weiterverarbeitung in anderen Texteditoren zu erleichtern.

### 4.6. Export-Tab: Archivierung und Kollaboration
* **Zweck:** Bereitstellung aller Rohdaten und Analyseergebnisse in standardisierten Formaten zur Sicherung der Reproduzierbarkeit und zur Weitergabe an Co-Autoren.
* **Funktionen:**
    * **Umfassende Export-Optionen:** Bietet Exporte als CSV, TXT, PNG, SVG und eine vollumfängliche **Excel-Arbeitsmappe (.xlsx)**, die Konfiguration, Rohdaten, Auswertungsdaten und Statistiken in separaten Blättern enthält.
    * **ZIP-Pakete:** Bündeln alle relevanten Artefakte einer Analyse-Sitzung in einem einzigen, archivierbaren ZIP-File – ein entscheidendes Feature zur Dokumentation des exakten Stands der Analyse zum Zeitpunkt der Manuskripterstellung.
