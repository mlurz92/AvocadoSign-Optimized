/* css/_charts.css */
.chart-container svg,
.dashboard-chart-container svg,
.praes-chart-container svg {
    display: block;
    width: 100%;
    height: 100%;
    max-width: 100%;
    overflow: visible !important;
    will-change: transform;
    font-family: var(--chart-font-family);
    background-color: var(--chart-bg-color);
}

.axis path,
.axis line {
    fill: none;
    stroke: var(--chart-axis-color);
    shape-rendering: crispEdges;
    stroke-width: 1px;
}

.axis text {
    font-size: var(--chart-font-size-tick-label);
    fill: var(--chart-label-color);
    user-select: none;
}

.axis-label {
    font-size: var(--chart-font-size-axis-label);
    fill: var(--chart-label-color);
    text-anchor: middle;
    user-select: none;
}

.grid .tick {
    stroke: var(--chart-grid-color);
    stroke-opacity: 0.7;
    shape-rendering: crispEdges;
}

.grid path {
    stroke-width: 0;
}

.legend {
    font-size: var(--chart-font-size-legend);
    fill: var(--chart-label-color);
    user-select: none;
    cursor: default;
}

.legend-item text {
    fill: var(--chart-label-color);
    dominant-baseline: middle;
}

.legend-item rect {
    stroke: var(--border-color);
    stroke-width: 0.5px;
}

.bar {
    opacity: var(--chart-bar-opacity);
    transition: opacity var(--transition-duration-fast) var(--transition-timing-function),
                fill var(--transition-duration-fast) var(--transition-timing-function);
}

.bar:hover,
.arc path:hover,
.roc-point:hover {
    opacity: 1;
    filter: brightness(1.1);
}

.arc path {
     opacity: var(--chart-bar-opacity);
     transition: opacity var(--transition-duration-fast) var(--transition-timing-function),
                 transform var(--transition-duration-fast) var(--transition-timing-function);
}

.chart-tooltip {
    position: absolute;
    background-color: var(--tooltip-bg-color);
    color: var(--tooltip-color);
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--border-radius-sm);
    font-size: var(--chart-font-size-tooltip);
    line-height: var(--line-height-sm);
    pointer-events: none;
    box-shadow: var(--shadow-sm);
    z-index: var(--z-index-tooltip);
    opacity: 0;
    transition: opacity var(--transition-duration-fast) var(--transition-timing-function);
    will-change: opacity, transform;
}

.roc-curve {
    fill: none;
    stroke-width: var(--chart-line-stroke-width);
}

.roc-point {
    transition: r var(--transition-duration-fast) var(--transition-timing-function);
}

.reference-line {
    stroke: var(--chart-axis-color);
    stroke-width: 1px;
    stroke-dasharray: 3 3;
    opacity: 0.8;
}

.auc-label {
    font-size: var(--chart-font-size-axis-label);
    font-weight: var(--font-weight-bold);
    fill: var(--chart-label-color);
    text-anchor: end;
}

.chart-container,
.dashboard-chart-container,
.praes-chart-container {
    position: relative;
    border: 1px solid var(--border-color-light);
    border-radius: var(--border-radius-sm);
    background-color: var(--chart-bg-color);
    padding: var(--spacing-xs);
}

.dashboard-chart-container {
    min-height: 125px;
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: center;
}

.praes-chart-container {
    min-height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

.publication-tab-chart-container {
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-sm);
    padding: var(--spacing-sm);
    margin-bottom: var(--spacing-md);
    background-color: var(--chart-bg-color);
}

.publication-tab-chart-container h5 {
    text-align: center;
    font-size: var(--font-size-sm);
    margin-bottom: var(--spacing-xs);
    font-weight: var(--font-weight-semibold);
}

.publication-tab-chart-container p.text-muted.small {
    text-align: center;
    margin-bottom: var(--spacing-sm);
    font-style: italic;
}
