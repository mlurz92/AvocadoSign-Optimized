<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AvocadoSign Optimiert</title>
    <!-- Bootstrap CSS einbinden für Styling -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome für Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- Custom CSS einbinden -->
    <link rel="stylesheet" href="./css/style.css">
    <!-- D3.js für Diagramme (falls in Chart.js nicht abgedeckt oder für spezielle Visualisierungen) -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- Chart.js für Diagramme -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Tippy.js für Tooltips -->
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/dist/tippy.css"/>
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
</head>
<body>
    <div class="container">
        <h1>AvocadoSign Analyse-Tool</h1>
        <nav class="tabs">
            <button class="tab-button active" data-tab="data">Daten</button>
            <button class="tab-button" data-tab="auswertung">Auswertung</button>
            <button class="tab-button" data-tab="statistik">Statistik</button>
            <button class="tab-button" data-tab="praesentation">Präsentation</button>
            <button class="tab-button" data-tab="publikation">Publikation</button>
            <button class="tab-button" data-tab="export">Export</button>
        </nav>

        <div id="data-tab" class="tab-content active">
            <h2>Datenmanagement</h2>
            <div class="input-section">
                <textarea id="patient-data-input" placeholder="Patientendaten hier einfügen..."></textarea>
                <button id="load-data-button">Daten laden</button>
                <button id="reset-data-button">Daten zurücksetzen</button>
            </div>
            <div id="data-display" class="data-display"></div>
            <div id="data-summary" class="summary-section"></div>
        </div>

        <div id="auswertung-tab" class="tab-content">
            <h2>Auswertung der Kriterien</h2>
            <div class="criteria-selection">
                <h3>Kriterien für Avocado-Sign</h3>
                <div class="checkbox-group" id="avocado-criteria-checkboxes">
                    <!-- Checkboxes for AvocadoSign criteria will be generated here by JavaScript -->
                </div>
                <button id="apply-avocado-criteria">Avocado-Sign anwenden</button>
            </div>
            <div class="criteria-selection">
                <h3>T2-Kriterien</h3>
                <div class="checkbox-group" id="t2-criteria-checkboxes">
                    <!-- Checkboxes for T2 criteria will be generated here by JavaScript -->
                </div>
                <button id="apply-t2-criteria">T2-Kriterien anwenden</button>
            </div>
            <div id="auswertung-results"></div>
        </div>

        <div id="statistik-tab" class="tab-content">
            <h2>Statistik und Leistungsanalyse</h2>
            <div id="statistics-results"></div>
            <div class="chart-container">
                <canvas id="roc-chart"></canvas>
            </div>
            <button id="run-brute-force">Brute Force Optimierung starten</button>
            <div id="brute-force-results"></div>
        </div>

        <div id="praesentation-tab" class="tab-content">
            <h2>Präsentation und Visualisierung</h2>
            <div id="praesentation-content">
                <!-- Visualisierungen für Präsentationen -->
            </div>
        </div>

        <div id="publikation-tab" class="tab-content">
            <h2>Publikation und Manuskript</h2>
            <div id="publication-content">
                <!-- Generierter Publikationstext, Tabellen und Diagramme -->
            </div>
        </div>

        <div id="export-tab" class="tab-content">
            <h2>Daten Export</h2>
            <div class="export-options">
                <button id="export-csv-button">Export als CSV</button>
                <button id="export-json-button">Export als JSON</button>
                <button id="export-chart-png">Diagramme als PNG</button>
                <button id="export-chart-svg">Diagramme als SVG</button>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle (inkl. Popper.js) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- Globale Konfigurationen und Hilfsfunktionen -->
    <script src="./js/config/constants.js"></script>
    <script src="./js/config/app_config.js"></script>
    <script src="./js/config/text_config.js"></script>
    <script src="./js/config/publication_config.js"></script>
    <script src="./js/utils/helpers.js"></script>
    <script src="./js/state/app_state.js"></script>

    <!-- Core-Logik -->
    <script src="./js/core/data_manager.js"></script>
    <script src="./js/core/study_criteria_manager.js"></script>
    <script src="./js/core/t2_criteria_manager.js"></script>

    <!-- Services -->
    <script src="./js/services/statistics_service.js"></script>
    <script src="./js/services/export_service.js"></script>
    <script src="./js/services/brute_force_manager.js"></script>

    <!-- UI Komponenten -->
    <script src="./js/ui/components/common.js"></script>
    <script src="./js/ui/components/tooltip.js"></script>
    <script src="./js/ui/components/charts.js"></script>

    <!-- View Logik - MUSS VOR den Tabs geladen werden, da Tabs davon abhängen -->
    <script src="./js/ui/view_logic/data_tab.js"></script>
    <script src="./js/ui/view_logic/auswertung_tab.js"></script>
    <script src="./js/ui/view_logic/statistik_tab.js"></script>
    <script src="./js/ui/view_logic/praesentation_tab.js"></script>
    <script src="./js/ui/view_logic/publikation_tab.js"></script>
    <script src="./js/ui/view_logic/export_tab.js"></script> 

    <!-- Tabs - Initiale Logik für die Tabs -->
    <script src="./js/ui/tabs/data_tab.js"></script>
    <script src="./js/ui/tabs/auswertung_tab.js"></script>
    <script src="./js/ui/tabs/statistik_tab.js"></script>
    <script src="./js/ui/tabs/praesentation_tab.js"></script>
    <script src="./js/ui/tabs/publikation_tab.js"></script>
    <script src="./js/ui/tabs/export_tab.js"></script>

    <!-- Hauptanwendungslogik -->
    <script src="./js/app.js"></script>

    <!-- Initiales Laden von Patientendaten (für Entwicklungszwecke) -->
    <script src="./data/patient_data.js"></script>
</body>
</html>
