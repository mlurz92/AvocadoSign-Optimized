<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lymphknoten T2 - Avocado Sign Analyse v2.5.0</title>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" rel="stylesheet">
    <link href="https://unpkg.com/tippy.js@6/dist/tippy.css" rel="stylesheet">

    <link rel="stylesheet" href="css/style.css">
</head>
<body data-bs-theme="light">

    <header class="container-fluid sticky-top bg-body-tertiary shadow-sm py-2 mb-3">
        <div class="row align-items-center">
            <div class="col-md-4">
                <h1 class="h5 mb-0 app-title">Lymphknoten T2 &amp; Avocado Sign Analyse <small class="text-muted" id="app-version-display">v2.5.0</small></h1>
            </div>
            <div class="col-md-5 text-center" id="kollektiv-buttons-container">
                <div class="btn-group btn-group-sm" role="group" aria-label="Kollektiv Auswahl">
                    <button type="button" class="btn btn-outline-primary kollektiv-btn" data-kollektiv="Gesamt">Gesamt</button>
                    <button type="button" class="btn btn-outline-primary kollektiv-btn" data-kollektiv="direkt OP">Direkt OP</button>
                    <button type="button" class="btn btn-outline-primary kollektiv-btn" data-kollektiv="nRCT">nRCT</button>
                </div>
            </div>
            <div class="col-md-3 text-end">
                <button class="btn btn-sm btn-outline-secondary me-2" id="kurzanleitung-button" data-tippy-content="Kurzanleitung anzeigen">
                    <i class="fas fa-info-circle"></i>
                </button>,
                <button class="btn btn-sm btn-outline-secondary" id="theme-toggle-button" data-tippy-content="Dunkles Design umschalten">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
        <div id="header-stats-container" class="row mt-2 gx-2">
        </div>
        <div id="global-error-container" style="display: none;"></div>
    </header>

    <main class="container-fluid mt-3" id="app-container">
        <ul class="nav nav-tabs fixed-top-nav shadow-sm bg-body-tertiary" id="main-tabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="daten-tab" data-bs-toggle="tab" data-bs-target="#daten-tab-pane" type="button" role="tab" aria-controls="daten-tab-pane" aria-selected="true" data-tippy-content="Patienten-Rohdaten und Lymphknoten-Merkmale anzeigen">Daten</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="auswertung-tab" data-bs-toggle="tab" data-bs-target="#auswertung-tab-pane" type="button" role="tab" aria-controls="auswertung-tab-pane" aria-selected="false" data-tippy-content="T2-Kriterien definieren, Brute-Force-Optimierung und Ergebnisübersicht">Auswertung</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="statistik-tab" data-bs-toggle="tab" data-bs-target="#statistik-tab-pane" type="button" role="tab" aria-controls="statistik-tab-pane" aria-selected="false" data-tippy-content="Detaillierte statistische Analysen und Vergleiche">Statistik</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="praesentation-tab" data-bs-toggle="tab" data-bs-target="#praesentation-tab-pane" type="button" role="tab" aria-controls="praesentation-tab-pane" aria-selected="false" data-tippy-content="Aufbereitete Ergebnisse für Präsentationen">Präsentation</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="publikation-tab" data-bs-toggle="tab" data-bs-target="#publikation-tab-pane" type="button" role="tab" aria-controls="publikation-tab-pane" aria-selected="false" data-tippy-content="Textentwurf (Methoden, Ergebnisse) für wissenschaftliche Publikation generieren">Publikation</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="export-tab" data-bs-toggle="tab" data-bs-target="#export-tab-pane" type="button" role="tab" aria-controls="export-tab-pane" aria-selected="false" data-tippy-content="Daten und Ergebnisse in verschiedenen Formaten exportieren">Export</button>
            </li>
        </ul>

        <div class="tab-content" id="main-tabs-content">
            <div class="tab-pane fade show active" id="daten-tab-pane" role="tabpanel" aria-labelledby="daten-tab" tabindex="0">
                <div id="daten-content"></div>
            </div>
            <div class="tab-pane fade" id="auswertung-tab-pane" role="tabpanel" aria-labelledby="auswertung-tab" tabindex="0">
                <div id="auswertung-content" class="row g-3"></div>
            </div>
            <div class="tab-pane fade" id="statistik-tab-pane" role="tabpanel" aria-labelledby="statistik-tab" tabindex="0">
                <div id="statistik-content" class="row g-3"></div>
            </div>
            <div class="tab-pane fade" id="praesentation-tab-pane" role="tabpanel" aria-labelledby="praesentation-tab" tabindex="0">
                <div id="praesentation-content"></div>
            </div>
            <div class="tab-pane fade" id="publikation-tab-pane" role="tabpanel" aria-labelledby="publikation-tab" tabindex="0">
                <div id="publikation-content"></div>
            </div>
            <div class="tab-pane fade" id="export-tab-pane" role="tabpanel" aria-labelledby="export-tab" tabindex="0">
                <div id="export-content"></div>
            </div>
        </div>
    </main>

    <div class="modal fade" id="brute-force-modal" tabindex="-1" aria-labelledby="bruteForceModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="bruteForceModalLabel">Brute-Force Optimierungsergebnisse</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schließen"></button>
                </div>
                <div class="modal-body" id="brute-force-modal-body">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="export-brute-force-modal-txt" data-tippy-content="Exportiert den detaillierten Bericht der Brute-Force-Optimierung (Top 10 Ergebnisse, Kollektiv-Statistik, Konfiguration) als formatierte Textdatei (.txt).">
                        <i class="fas fa-file-alt me-1"></i> Als TXT exportieren
                    </button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Schließen</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="info-modal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="infoModalLabel">Information</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schließen"></button>
                </div>
                <div class="modal-body" id="info-modal-body">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Schließen</button>
                </div>
            </div>
        </div>
    </div>

    <div id="toast-container" class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 1080">
    </div>

    <footer class="container-fluid text-center text-muted small py-3 mt-4 border-top">
        &copy; 2024-2025 Dr. med. Markus Lurz &amp; A.O. Schäfer. Alle Rechte vorbehalten.
        <br>Dieses Tool ist für Forschungszwecke bestimmt und nicht für die klinische Diagnostik zugelassen.
        <br><a href="https://github.com/mlurz92/AvocadoSign-Optimized" target="_blank" rel="noopener noreferrer">GitHub Repository (AvocadoSign-Optimized)</a>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>


    <script src="data/data.js"></script>

    <script src="js/config/app_config.js"></script>
    <script src="js/config/text_config.js"></script>
    <script src="js/config/publication_config.js"></script>

    <script src="js/utils/utils.js"></script>

    <script src="js/core/data_processor.js"></script>
    <script src="js/core/t2_criteria_manager.js"></script>
    <script src="js/core/study_criteria_manager.js"></script>

    <script src="js/services/statistics_service.js"></script>
    <script src="js/services/reference_manager.js"></script>
    <script src="js/services/brute_force_manager.js"></script>
    <script src="js/services/export_service.js"></script>

    <script src="js/ui/core/ui_helpers.js"></script>
    <script src="js/ui/core/ui_components.js"></script>

    <script src="js/ui/renderers/table_renderer.js"></script>
    <script src="js/ui/renderers/chart_renderer.js"></script>
    <script src="js/ui/renderers/publication_text_generator.js"></script>
    <script src="js/ui/renderers/publication_renderer.js"></script>

    <script src="js/ui/view_logic/data_tab_logic.js"></script>
    <script src="js/ui/view_logic/auswertung_tab_logic.js"></script>
    <script src="js/ui/view_logic/statistik_tab_logic.js"></script>
    <script src="js/ui/view_logic/praesentation_tab_logic.js"></script>
    <script src="js/ui/view_logic/publikation_tab_logic.js"></script>

    <script src="js/ui/view_renderer.js"></script>

    <script src="js/ui/event_handlers/general_event_handlers.js"></script>
    <script src="js/ui/event_handlers/auswertung_event_handlers.js"></script>
    <script src="js/ui/event_handlers/statistik_event_handlers.js"></script>
    <script src="js/ui/event_handlers/praesentation_event_handlers.js"></script>
    <script src="js/ui/event_handlers/publikation_event_handlers.js"></script>

    <script src="js/app/state.js"></script>
    <script src="js/app/main.js"></script>

</body>
</html>
